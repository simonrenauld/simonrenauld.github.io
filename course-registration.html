<!doctype html>
<html lang="en">
	<head>
	 	<meta charset="utf-8" />
	 	<meta name="viewport" content="width=device-width, initial-scale=1" />
	 	<title>Course Registration · Redirecting to Moodle…</title>
	 	<meta name="robots" content="noindex,follow" />
	 	<meta name="description" content="Redirecting you to our Moodle platform to request or complete course registration." />
	 	<style>
			:root {
				--bg: #0f1419;
				--panel: #ffffff;
				--text: #0f1419;
				--muted: #6b7280;
				--accent: #3b82f6;
				--accent-dark: #2563eb;
				--radius: 16px;
				--shadow: 0 10px 25px rgba(0,0,0,.08);
			}
			html, body { height: 100%; }
			body {
				margin: 0;
				font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
				background: linear-gradient(135deg, #0f1419 0%, #1e293b 60%, #374151 100%);
				color: #fff;
				display: grid;
				place-items: center;
			}
			.card {
				width: min(680px, 92vw);
				background: var(--panel);
				color: var(--text);
				border-radius: var(--radius);
				box-shadow: var(--shadow);
				padding: 28px;
			}
			h1 { font-size: clamp(1.5rem, 1.6rem + 0.5vw, 2rem); margin: 0 0 10px; letter-spacing: -0.02em; }
			p { margin: 0 0 16px; color: var(--muted); }
			.row { display: flex; gap: 16px; align-items: center; }
			.spinner {
				width: 18px; height: 18px; border-radius: 50%;
				border: 3px solid rgba(59,130,246,.25);
				border-top-color: var(--accent);
				animation: spin 0.9s linear infinite;
			}
			@keyframes spin { to { transform: rotate(360deg); } }
			.actions { margin-top: 16px; display: flex; gap: 12px; flex-wrap: wrap; }
			.btn {
				appearance: none; border: 0; cursor: pointer; text-decoration: none;
				padding: 10px 16px; border-radius: 10px; font-weight: 600; font-size: 0.95rem;
				transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
			}
			.btn-primary { background: var(--accent); color: #fff; box-shadow: 0 6px 16px rgba(37,99,235,.25); }
			.btn-primary:hover { background: var(--accent-dark); transform: translateY(-1px); box-shadow: 0 10px 24px rgba(37,99,235,.28); }
			.btn-muted { background: #f3f4f6; color: #111827; }
			code { background: #f3f4f6; padding: 2px 6px; border-radius: 6px; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; font-size: .9em; }
			.tiny { font-size: .875rem; color: var(--muted); }
		</style>
	 	<script>
			(function () {
				const MOODLE_BASE = 'http://136.243.155.166:8086';
				const params = new URLSearchParams(window.location.search);

				let target = `${MOODLE_BASE}/?ref=course-registration`;

				const courseId = params.get('courseid');
				const shortname = params.get('shortname');
				const path = params.get('path');

				if (courseId) {
					target = `${MOODLE_BASE}/enrol/index.php?id=${encodeURIComponent(courseId)}&ref=portal`;
				} else if (shortname) {
					target = `${MOODLE_BASE}/course/search.php?q=${encodeURIComponent(shortname)}&ref=portal`;
				} else if (path) {
					const clean = path.startsWith('/') ? path : `/${path}`;
					target = `${MOODLE_BASE}${clean}`;
				}

				window.__moodleTarget = target;
				window.addEventListener('DOMContentLoaded', function () {
					var link = document.getElementById('continue-link');
					if (link) link.href = window.__moodleTarget;
					setTimeout(function () { window.location.replace(window.__moodleTarget); }, 400);
				});
			})();
		</script>
	</head>
	<body>
		<main class="card" role="main" aria-labelledby="heading">
			<h1 id="heading">Redirecting you to Moodle</h1>
			<div class="row" aria-live="polite">
				<div class="spinner" aria-hidden="true"></div>
				<p>We’ll take you to our learning platform to request or complete your course registration.</p>
			</div>
			<div class="actions">
				<a id="continue-link" class="btn btn-primary" href="http://136.243.155.166:8086/?ref=course-registration">Continue on Moodle</a>
				<a class="btn btn-muted" href="http://136.243.155.166:8086/login/index.php?redirect=0">Log in</a>
				<a class="btn btn-muted" href="http://136.243.155.166:8086/login/signup.php">Create account</a>
			</div>
			<p class="tiny" style="margin-top:12px">Tip: you can deep-link with <code>?courseid=123</code> or <code>?shortname=python</code>.</p>
			<noscript>
				<p class="tiny">JavaScript is disabled. Use the “Continue on Moodle” button above.</p>
			</noscript>
		</main>
	</body>
	</html>

